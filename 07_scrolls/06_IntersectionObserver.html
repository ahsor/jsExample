<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box{ position: absolute;
            margin: 100px;
            background-color: orange;
            width: 200px; height: 200px;
            padding: 10px; border:10px; 
        }

    </style>
</head>
<body>
    <div class="box"></div>
    <script>
        const ob = document.querySelector('.box').getBoundingClientRect();
        console.log( ob );
        // padding, border를 포함함 width, height 반환

        /*
        intersection observer 는 Target Element 가 화면에 노출되었는 지 여부를 간단하게 확인 할 수 있는 API 이다. 

        만약 이를 구현한다고 생각해보면, scroll 이 일어 날때 마다, 특정 Element 가 화면 에 존재 여부를 계속 계산하는 code 를 만들어야 한다.

        하지만 이는 개발자가 작성한 code 에 따라 성능이 좌우 될 수 있는데,
         intersection observer 를 쓰면, 간단하게 구현할 수 있을 뿐만아니라, 성능 상에도 매우 유리하다.
        */
        let isob = new IntersectionObserver(myCallback, 0.7);
        function myCallback(entries){
            entries.forEach(entriy => {
                
            });
        }

        /*
        1. Intersection Observer 객체를 생성하면서, Callback Function 과 option 을 전달한다.
        2. Intersection Observer 에서 observe 로 확인할 Target Element 를 추가한다.
        Target Element 가 options.threshold 로 정의한 Percent(%) 만큼 화면에 노출 혹은 제외 되면, entries 배열 에 추가하고, Callback Function 을 호출한다.
        Callback Function 에서 전달 받은 entries 배열을 확인하면서, isIntersecting 으로 노출 여부를 확인한다.
        만약 더이상 Target Element 를 확인할 필요가 없다면, IntersectionObserver 에서 unobserve 로 제거 할 수 있다.
        */
    </script>
</body>
</html>