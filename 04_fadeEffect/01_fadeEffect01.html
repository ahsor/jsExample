<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/reset.css">
    <style>
        .carousel-container{ width: 600px; height: 400px; 
            /* overflow: hidden; */
                position: relative;
        }
        .carousel-slide{ width:100%; height: 100%; position: relative;}
        .carousel-slide>img{ position:absolute; opacity: 0;
            transition: 1s;
        }
        .carousel-slide>img.active{ opacity: 1;}
        .control{  position: absolute; bottom: 30px; width:100%; }
        .indecator ul{ display: flex; width: 100%; justify-content: center;}
        .indecator a{ display: block; width: 20px; height: 20px; 
            background: chartreuse; margin:5px;}
    </style>
</head>
<body>
    <h1>fade Effect</h1>
    <hr />
    <div class="carousel-container">
      <div class="carousel-slide">
        <img src="http://placekitten.com/600/450" alt="" class="active"/>
      </div>

      <div class="control">
          <button id="showBtn">show</button>
          <button id="hideBtn">hide</button>
      </div>
    </div>
    <script>
        // 단점 : 버튼을 즉시 실행할 수 없음 
        const btn = document.querySelector('.control');
        const img = document.querySelector('.carousel-slide img');
        let opacity = 0; 
        let timer = 0; 
        btn.addEventListener('click', function(event){
            // 말도 안되는 버튼 제작한듯 
            if( event.target.id === 'showBtn'){
                timer = setInterval( show, 200);
            }else{
                timer = setInterval( hide, 200);
            }
           
        })

        function show(){
            opacity = Number(window.getComputedStyle(img).getPropertyValue('opacity'));
            console.log(opacity);

            if(opacity<1){
                opacity += 0.1;
                img.style.opacity = opacity; 
            }else{
                clearInterval( timer);
            }
        }
        function hide(){
            opacity = Number(window.getComputedStyle(img).getPropertyValue('opacity'));
            //opacity = Number(img.style.opacity);
            console.log(opacity);

            if(opacity>0){
                opacity -= 0.1;
                img.style.opacity = opacity; 
            }else{
                clearInterval( timer);
            }
        }
    </script>
</body>
</html>